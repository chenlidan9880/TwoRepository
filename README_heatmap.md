# 校园网流量热力图模块

本模块提供校园网络流量的可视化功能，通过热力图直观地展示不同位置的网络设备流量分布和趋势。

## 功能特点

1. **流量热力图**：在校园地图上用不同颜色显示各区域流量情况，红色表示高流量，蓝色表示低流量
2. **流量趋势图**：展示全网或单个设备的流量变化趋势
3. **设备分布图**：显示不同类型终端设备的分布情况
4. **热点设备列表**：列出流量最高的设备，支持点击查看其详细流量趋势
5. **时间范围选择**：支持查看1小时、24小时或7天的流量数据

## 技术实现

- 使用heatmap.js库实现热力图渲染
- 使用ECharts库实现趋势图和分布图
- 采用异步AJAX技术从后端API获取数据
- 响应式设计，适配不同尺寸的屏幕

## 文件结构

- `app/controllers/heatmap.py` - 热力图控制器，处理请求和提供API
- `app/templates/heatmap/index.html` - 热力图页面模板
- `app/static/css/heatmap.css` - 热力图页面样式
- `app/static/js/heatmap.js` - 热力图交互和数据处理脚本
- `app/static/img/campus-map.png` - 校园地图背景图片(需要添加)

## API接口

1. `/heatmap/data` - 获取热力图数据
   - 参数：time_range (hour/day/week)
   - 返回：热力图数据点和配置

2. `/heatmap/trend` - 获取流量趋势数据
   - 参数：device_id (可选), time_range, interval
   - 返回：流量趋势数据序列

3. `/heatmap/distribution` - 获取设备分布数据
   - 返回：设备类型分布数据

## 使用方法

1. 访问 `/heatmap` 路径查看热力图页面
2. 通过页面上方的按钮切换不同的时间范围
3. 点击热点设备列表中的设备，查看其详细流量趋势
4. 热力图和趋势图数据会自动更新

## 后续优化方向

1. 添加地图缩放和平移功能
2. 增加数据导出功能
3. 实现自定义时间范围选择
4. 增加异常流量标记和告警
5. 优化大数据量下的渲染性能 